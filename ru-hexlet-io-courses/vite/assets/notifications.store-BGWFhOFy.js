import{o as e}from"./chunk-N2sQUAeg.js";import{t}from"./react-BuxZcaYh.js";import{t as n}from"./random-id-Bahgq9tu.js";var r=e(t(),1);function i(e){let t=e,n=!1,r=new Set;return{getState(){return t},updateState(e){t=typeof e==`function`?e(t):e},setState(e){this.updateState(e),r.forEach(e=>e(t))},initialize(e){n||=(t=e,!0)},subscribe(e){return r.add(e),()=>r.delete(e)}}}function a(e){return(0,r.useSyncExternalStore)(e.subscribe,()=>e.getState(),()=>e.getState())}function o(e,t,n){let r=[],i=[],a={};for(let o of e){let e=o.position||t;a[e]=a[e]||0,a[e]+=1,a[e]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}var s=i({notifications:[],queue:[],defaultPosition:`bottom-right`,limit:5}),c=(e=s)=>a(e);function l(e,t){let n=e.getState(),r=o(t([...n.notifications,...n.queue]),n.defaultPosition,n.limit);e.setState({notifications:r.notifications,queue:r.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function u(e,t=s){let r=e.id||n();return l(t,t=>e.id&&t.some(t=>t.id===e.id)?t:[...t,{...e,id:r}]),r}function d(e,t=s){return l(t,t=>t.filter(t=>t.id===e?(t.onClose?.(t),!1):!0)),e}function f(e,t=s){return l(t,t=>t.map(t=>t.id===e.id?{...t,...e}:t)),e.id}function p(e=s){l(e,()=>[])}function m(e=s){l(e,t=>t.slice(0,e.getState().limit))}var h={show:u,hide:d,update:f,clean:p,cleanQueue:m,updateState:l};export{c as a,u as i,h as n,s as r,d as t};