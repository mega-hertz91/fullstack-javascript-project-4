var e=typeof __SENTRY_DEBUG__>`u`||__SENTRY_DEBUG__,t=globalThis,n=`10.36.0`;function r(){return i(t),t}function i(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||`10.36.0`,t[n]=t[`10.36.0`]||{}}function a(e,r,i=t){let a=i.__SENTRY__=i.__SENTRY__||{},o=a[n]=a[`10.36.0`]||{};return o[e]||(o[e]=r())}var o=[`debug`,`info`,`warn`,`error`,`log`,`assert`,`trace`],s=`Sentry Logger `,c={};function l(e){if(!(`console`in t))return e();let n=t.console,r={},i=Object.keys(c);i.forEach(e=>{let t=c[e];r[e]=n[e],n[e]=t});try{return e()}finally{i.forEach(e=>{n[e]=r[e]})}}function u(){ne().enabled=!0}function d(){ne().enabled=!1}function f(){return ne().enabled}function p(...e){te(`log`,...e)}function m(...e){te(`warn`,...e)}function ee(...e){te(`error`,...e)}function te(n,...r){e&&f()&&l(()=>{t.console[n](`${s}[${n}]:`,...r)})}function ne(){return e?a(`loggerSettings`,()=>({enabled:!1})):{enabled:!1}}var h={enable:u,disable:d,isEnabled:f,log:p,warn:m,error:ee},re=50,ie=`?`,ae=/\(error: (.*)\)/,oe=/captureMessage|captureException/;function se(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,r=0)=>{let i=[],a=e.split(`
`);for(let e=n;e<a.length;e++){let n=a[e];n.length>1024&&(n=n.slice(0,1024));let o=ae.test(n)?n.replace(ae,`$1`):n;if(!o.match(/\S*Error: /)){for(let e of t){let t=e(o);if(t){i.push(t);break}}if(i.length>=re+r)break}}return le(i.slice(r))}}function ce(e){return Array.isArray(e)?se(...e):e}function le(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(g(t).function||``)&&t.pop(),t.reverse(),oe.test(g(t).function||``)&&(t.pop(),oe.test(g(t).function||``)&&t.pop()),t.slice(0,re).map(e=>({...e,filename:e.filename||g(t).filename,function:e.function||`?`}))}function g(e){return e[e.length-1]||{}}var ue=`<anonymous>`;function de(e){try{return!e||typeof e!=`function`?ue:e.name||ue}catch{return ue}}function fe(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch{return}}}function pe(e){return`__v_isVNode`in e&&e.__v_isVNode?`[VueVNode]`:`[VueViewModel]`}var me=Object.prototype.toString;function he(e){switch(me.call(e)){case`[object Error]`:case`[object Exception]`:case`[object DOMException]`:case`[object WebAssembly.Exception]`:return!0;default:return b(e,Error)}}function _(e,t){return me.call(e)===`[object ${t}]`}function ge(e){return _(e,`ErrorEvent`)}function _e(e){return _(e,`DOMError`)}function ve(e){return _(e,`DOMException`)}function v(e){return _(e,`String`)}function ye(e){return typeof e==`object`&&!!e&&`__sentry_template_string__`in e&&`__sentry_template_values__`in e}function be(e){return e===null||ye(e)||typeof e!=`object`&&typeof e!=`function`}function xe(e){return _(e,`Object`)}function Se(e){return typeof Event<`u`&&b(e,Event)}function Ce(e){return typeof Element<`u`&&b(e,Element)}function we(e){return _(e,`RegExp`)}function y(e){return!!(e?.then&&typeof e.then==`function`)}function Te(e){return xe(e)&&`nativeEvent`in e&&`preventDefault`in e&&`stopPropagation`in e}function b(e,t){try{return e instanceof t}catch{return!1}}function Ee(e){return!!(typeof e==`object`&&e&&(e.__isVue||e._isVue||e.__v_isVNode))}function De(e){return typeof Request<`u`&&b(e,Request)}var Oe=t,ke=80;function Ae(e,t={}){if(!e)return`<unknown>`;try{let n=e,r=[],i=0,a=0,o,s=Array.isArray(t)?t:t.keyAttrs,c=!Array.isArray(t)&&t.maxStringLength||ke;for(;n&&i++<5&&(o=je(n,s),!(o===`html`||i>1&&a+r.length*3+o.length>=c));)r.push(o),a+=o.length,n=n.parentNode;return r.reverse().join(` > `)}catch{return`<unknown>`}}function je(e,t){let n=e,r=[];if(!n?.tagName)return``;if(Oe.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let i=t?.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(i?.length)i.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let e=n.className;if(e&&v(e)){let t=e.split(/\s+/);for(let e of t)r.push(`.${e}`)}}for(let e of[`aria-label`,`type`,`name`,`title`,`alt`]){let t=n.getAttribute(e);t&&r.push(`[${e}="${t}"]`)}return r.join(``)}function Me(){try{return Oe.document.location.href}catch{return``}}function Ne(e){if(!Oe.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Pe(t,n,r){if(!(n in t))return;let i=t[n];if(typeof i!=`function`)return;let a=r(i);typeof a==`function`&&Fe(a,i);try{t[n]=a}catch{e&&h.log(`Failed to replace method "${n}" in object`,t)}}function x(t,n,r){try{Object.defineProperty(t,n,{value:r,writable:!0,configurable:!0})}catch{e&&h.log(`Failed to add non-enumerable property "${n}" to object`,t)}}function Fe(e,t){try{e.prototype=t.prototype=t.prototype||{},x(e,`__sentry_original__`,t)}catch{}}function Ie(e){return e.__sentry_original__}function Le(e){if(he(e))return{message:e.message,name:e.name,stack:e.stack,...ze(e)};if(Se(e)){let t={type:e.type,target:Re(e.target),currentTarget:Re(e.currentTarget),...ze(e)};return typeof CustomEvent<`u`&&b(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Re(e){try{return Ce(e)?Ae(e):Object.prototype.toString.call(e)}catch{return`<unknown>`}}function ze(e){if(typeof e==`object`&&e){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Be(e){let t=Object.keys(Le(e));return t.sort(),t[0]?t.join(`, `):`[object has no keys]`}var S;function C(e){if(S!==void 0)return S?S(e):e();let n=Symbol.for(`__SENTRY_SAFE_RANDOM_ID_WRAPPER__`),r=t;return n in r&&typeof r[n]==`function`?(S=r[n],S(e)):(S=null,e())}function w(){return C(()=>Math.random())}function Ve(){return C(()=>Date.now())}function He(e,t=0){return typeof e!=`string`||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ue(e,t){if(!Array.isArray(e))return``;let n=[];for(let t=0;t<e.length;t++){let r=e[t];try{Ee(r)?n.push(pe(r)):n.push(String(r))}catch{n.push(`[value cannot be serialized]`)}}return n.join(t)}function T(e,t,n=!1){return v(e)?we(t)?t.test(e):v(t)?n?e===t:e.includes(t):!1:!1}function We(e,t=[],n=!1){return t.some(t=>T(e,t,n))}function Ge(){let e=t;return e.crypto||e.msCrypto}var Ke;function qe(){return w()*16}function E(e=Ge()){try{if(e?.randomUUID)return C(()=>e.randomUUID()).replace(/-/g,``)}catch{}return Ke||=`10000000100040008000100000000000`,Ke.replace(/[018]/g,e=>(e^(qe()&15)>>e/4).toString(16))}function Je(e){return e.exception?.values?.[0]}function Ye(e){let{message:t,event_id:n}=e;if(t)return t;let r=Je(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||`<unknown>`:n||`<unknown>`}function Xe(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||=t||``,a.type||=n||`Error`}function Ze(e,t){let n=Je(e);if(!n)return;let r={type:`generic`,handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&`data`in t){let e={...i?.data,...t.data};n.mechanism.data=e}}function Qe(e){if($e(e))return!0;try{x(e,`__sentry_captured__`,!0)}catch{}return!1}function $e(e){try{return e.__sentry_captured__}catch{}}var et=1e3;function D(){return Ve()/et}function tt(){let{performance:e}=t;if(!e?.now||!e.timeOrigin)return D;let n=e.timeOrigin;return()=>(n+C(()=>e.now()))/et}var nt;function O(){return(nt??=tt())()}function rt(e){let t=O(),n={sid:E(),init:!0,timestamp:t,started:t,duration:0,status:`ok`,errors:0,ignoreDuration:!1,toJSON:()=>at(n)};return e&&k(n,e),n}function k(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||O(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:E()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started==`number`&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration==`number`)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors==`number`&&(e.errors=t.errors),t.status&&(e.status=t.status)}function it(e,t){let n={};t?n={status:t}:e.status===`ok`&&(n={status:`exited`}),k(e,n)}function at(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did==`number`||typeof e.did==`string`?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function A(e,t,n=2){if(!t||typeof t!=`object`||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r={...e};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=A(r[e],t[e],n-1));return r}function j(){return E()}function M(){return E().substring(16)}var ot=`_sentrySpan`;function st(e,t){t?x(e,ot,t):delete e[ot]}function ct(e){return e[ot]}var lt=100,N=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:j(),sampleRand:w()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,st(e,ct(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&k(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this.setTags({[e]:t})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,t){return this.setAttributes({[e]:t})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return t===null?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let n=typeof e==`function`?e(this):e,{tags:r,attributes:i,extra:a,user:o,contexts:s,level:c,fingerprint:l=[],propagationContext:u}=(n instanceof t?n.getScopeData():xe(n)?e:void 0)||{};return this._tags={...this._tags,...r},this._attributes={...this._attributes,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...s},o&&Object.keys(o).length&&(this._user=o),c&&(this._level=c),l.length&&(this._fingerprint=l),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,st(this,void 0),this._attachments=[],this.setPropagationContext({traceId:j(),sampleRand:w()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let n=typeof t==`number`?t:lt;if(n<=0)return this;let r={timestamp:D(),...e,message:e.message?He(e.message,2048):e.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent(`buffer_overflow`,`log_item`)),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ct(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=A(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n?.event_id||E();if(!this._client)return e&&h.warn(`No client configured on scope - will not capture exception!`),r;let i=Error(`Sentry syntheticException`);return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){let i=r?.event_id||E();if(!this._client)return e&&h.warn(`No client configured on scope - will not capture message!`),i;let a=r?.syntheticException??Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:a,...r,event_id:i},this),i}captureEvent(t,n){let r=n?.event_id||E();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(e&&h.warn(`No client configured on scope - will not capture event!`),r)}_notifyScopeListeners(){this._notifyingListeners||=(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),!1)}};function ut(){return a(`defaultCurrentScope`,()=>new N)}function dt(){return a(`defaultIsolationScope`,()=>new N)}var ft=class{constructor(e,t){let n;n=e||new N;let r;r=t||new N,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t=this._pushScope(),n;try{n=e(t)}catch(e){throw this._popScope(),e}return y(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function P(){let e=i(r());return e.stack=e.stack||new ft(ut(),dt())}function pt(e){return P().withScope(e)}function mt(e,t){let n=P();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function ht(e){return P().withScope(()=>e(P().getIsolationScope()))}function gt(){return{withIsolationScope:ht,withScope:pt,withSetScope:mt,withSetIsolationScope:(e,t)=>ht(t),getCurrentScope:()=>P().getScope(),getIsolationScope:()=>P().getIsolationScope()}}function F(e){let t=i(e);return t.acs?t.acs:gt()}function I(){return F(r()).getCurrentScope()}function L(){return F(r()).getIsolationScope()}function _t(){return a(`globalScope`,()=>new N)}function vt(...e){let t=F(r());if(e.length===2){let[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}return t.withScope(e[0])}function R(){return I().getClient()}function yt(e){let{traceId:t,parentSpanId:n,propagationSpanId:r}=e.getPropagationContext(),i={trace_id:t,span_id:r||M()};return n&&(i.parent_span_id=n),i}var z=`sentry.source`,bt=`sentry.sample_rate`,xt=`sentry.op`,B=`sentry.origin`,St=`sentry.measurement_unit`,Ct=`sentry.measurement_value`,wt=`sentry.custom_span_name`,Tt=`sentry.profile_id`,Et=`sentry.exclusive_time`,Dt=`_sentryScope`,Ot=`_sentryIsolationScope`;function kt(e){try{let n=t.WeakRef;if(typeof n==`function`)return new n(e)}catch{}return e}function At(e){if(e){if(typeof e==`object`&&`deref`in e&&typeof e.deref==`function`)try{return e.deref()}catch{return}return e}}function jt(e,t,n){e&&(x(e,Ot,kt(n)),x(e,Dt,t))}function V(e){let t=e;return{scope:t[Dt],isolationScope:At(t[Ot])}}var Mt=/^sentry-/;function Nt(e){let t=Pt(e);if(!t)return;let n=Object.entries(t).reduce((e,[t,n])=>{if(t.match(Mt)){let r=t.slice(7);e[r]=n}return e},{});if(Object.keys(n).length>0)return n}function Pt(e){if(!(!e||!v(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>{let n=Ft(t);return Object.entries(n).forEach(([t,n])=>{e[t]=n}),e},{}):Ft(e)}function Ft(e){return e.split(`,`).map(e=>{let t=e.indexOf(`=`);return t===-1?[]:[e.slice(0,t),e.slice(t+1)].map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})}).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{})}var It=/^o(\d+)\./,Lt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function Rt(e){return e===`http`||e===`https`}function H(e,t=!1){let{host:n,path:r,pass:i,port:a,projectId:o,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&i?`:${i}`:``}@${n}${a?`:${a}`:``}/${r&&`${r}/`}${o}`}function zt(e){let t=Lt.exec(e);if(!t){l(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,i=``,a=``,o=``,s=``]=t.slice(1),c=``,u=s,d=u.split(`/`);if(d.length>1&&(c=d.slice(0,-1).join(`/`),u=d.pop()),u){let e=u.match(/^\d+/);e&&(u=e[0])}return Bt({host:a,pass:i,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Bt(e){return{protocol:e.protocol,publicKey:e.publicKey||``,pass:e.pass||``,host:e.host,port:e.port||``,path:e.path||``,projectId:e.projectId}}function Vt(t){if(!e)return!0;let{port:n,projectId:r,protocol:i}=t;return[`protocol`,`publicKey`,`host`,`projectId`].find(e=>t[e]?!1:(h.error(`Invalid Sentry Dsn: ${e} missing`),!0))?!1:r.match(/^\d+$/)?Rt(i)?n&&isNaN(parseInt(n,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${n}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function Ht(e){return e.match(It)?.[1]}function Ut(e){let t=e.getOptions(),{host:n}=e.getDsn()||{},r;return t.orgId?r=String(t.orgId):n&&(r=Ht(n)),r}function Wt(e){let t=typeof e==`string`?zt(e):Bt(e);if(!(!t||!Vt(t)))return t}function Gt(e){if(typeof e==`boolean`)return Number(e);let t=typeof e==`string`?parseFloat(e):e;if(!(typeof t!=`number`||isNaN(t)||t<0||t>1))return t}var Kt=!1;function qt(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:a,status:o,origin:s,links:c}=W(e);return{parent_span_id:a,span_id:t,trace_id:n,data:r,op:i,status:o,origin:s,links:c}}function Jt(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:W(e).parent_span_id,a=V(e).scope;return{parent_span_id:i,span_id:r?a?.getPropagationContext().propagationSpanId||M():t,trace_id:n}}function Yt(e){if(e&&e.length>0)return e.map(({context:{spanId:e,traceId:t,traceFlags:n,...r},attributes:i})=>({span_id:e,trace_id:t,sampled:n===1,attributes:i,...r}))}function U(e){return typeof e==`number`?Xt(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Xt(e.getTime()):O()}function Xt(e){return e>9999999999?e/1e3:e}function W(e){if(Qt(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Zt(e)){let{attributes:r,startTime:i,name:a,endTime:o,status:s,links:c}=e;return{span_id:t,trace_id:n,data:r,description:a,parent_span_id:`parentSpanId`in e?e.parentSpanId:`parentSpanContext`in e?e.parentSpanContext?.spanId:void 0,start_timestamp:U(i),timestamp:U(o)||void 0,status:$t(s),op:r[xt],origin:r[B],links:Yt(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Zt(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Qt(e){return typeof e.getSpanJSON==`function`}function G(e){let{traceFlags:t}=e.spanContext();return t===1}function $t(e){if(!(!e||e.code===0))return e.code===1?`ok`:e.message||`internal_error`}var K=`_sentryChildSpans`,en=`_sentryRootSpan`;function tn(e,t){x(t,en,e[en]||e),e[K]?e[K].add(t):x(e,K,new Set([t]))}function nn(e){let t=new Set;function n(e){if(!t.has(e)&&G(e)){t.add(e);let r=e[K]?Array.from(e[K]):[];for(let e of r)n(e)}}return n(e),Array.from(t)}function q(e){return e[en]||e}function rn(){Kt||=(l(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),!0)}function an(e){if(typeof __SENTRY_TRACING__==`boolean`&&!__SENTRY_TRACING__)return!1;let t=e||R()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function on(e){h.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function sn(t,n){if(!n?.length||!t.description)return!1;for(let r of n){if(ln(r)){if(T(t.description,r))return e&&on(t),!0;continue}if(!r.name&&!r.op)continue;let n=r.name?T(t.description,r.name):!0,i=r.op?t.op&&T(t.op,r.op):!0;if(n&&i)return e&&on(t),!0}return!1}function cn(e,t){let n=t.parent_span_id,r=t.span_id;if(n)for(let t of e)t.parent_span_id===r&&(t.parent_span_id=n)}function ln(e){return typeof e==`string`||e instanceof RegExp}var un=`production`,dn=`_frozenDsc`;function fn(e,t){x(e,dn,t)}function pn(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||`production`,release:n.release,public_key:r,trace_id:e,org_id:Ut(t)};return t.emit(`createDsc`,i),i}function mn(e,t){let n=t.getPropagationContext();return n.dsc||pn(n.traceId,e)}function J(e){let t=R();if(!t)return{};let n=q(e),r=W(n),i=r.data,a=n.spanContext().traceState,o=a?.get(`sentry.sample_rate`)??i[`sentry.sample_rate`]??i[`sentry.previous_trace_sample_rate`];function s(e){return(typeof o==`number`||typeof o==`string`)&&(e.sample_rate=`${o}`),e}let c=n[dn];if(c)return s(c);let l=a?.get(`sentry.dsc`),u=l&&Nt(l);if(u)return s(u);let d=pn(e.spanContext().traceId,t),f=i[z],p=r.description;return f!==`url`&&p&&(d.transaction=p),an()&&(d.sampled=String(G(n)),d.sample_rand=a?.get(`sentry.sample_rand`)??V(n).scope?.getPropagationContext().sampleRand.toString()),s(d),t.emit(`createDsc`,d,n),d}var hn=class{constructor(e={}){this._traceId=e.traceId||j(),this._spanId=e.spanId||M()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}};function Y(e,t=100,n=1/0){try{return _n(``,e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function gn(e,t=3,n=100*1024){let r=Y(e,t);return xn(r)>n?gn(e,t-1,n):r}function _n(e,t,n=1/0,r=1/0,i=Sn()){let[a,o]=i;if(t==null||[`boolean`,`string`].includes(typeof t)||typeof t==`number`&&Number.isFinite(t))return t;let s=vn(e,t);if(!s.startsWith(`[object `))return s;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__==`number`?t.__sentry_override_normalization_depth__:n;if(c===0)return s.replace(`object `,``);if(a(t))return`[Circular ~]`;let l=t;if(l&&typeof l.toJSON==`function`)try{return _n(``,l.toJSON(),c-1,r,i)}catch{}let u=Array.isArray(t)?[]:{},d=0,f=Le(t);for(let e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(d>=r){u[e]=`[MaxProperties ~]`;break}let t=f[e];u[e]=_n(e,t,c-1,r,i),d++}return o(t),u}function vn(e,t){try{if(e===`domain`&&t&&typeof t==`object`&&t._events)return`[Domain]`;if(e===`domainEmitter`)return`[DomainEmitter]`;if(typeof global<`u`&&t===global)return`[Global]`;if(typeof window<`u`&&t===window)return`[Window]`;if(typeof document<`u`&&t===document)return`[Document]`;if(Ee(t))return pe(t);if(Te(t))return`[SyntheticEvent]`;if(typeof t==`number`&&!Number.isFinite(t))return`[${t}]`;if(typeof t==`function`)return`[Function: ${de(t)}]`;if(typeof t==`symbol`)return`[${String(t)}]`;if(typeof t==`bigint`)return`[BigInt: ${String(t)}]`;let n=yn(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}function yn(e){let t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:`null prototype`}function bn(e){return~-encodeURI(e).split(/%..|./).length}function xn(e){return bn(JSON.stringify(e))}function Sn(){let e=new WeakSet;function t(t){return e.has(t)?!0:(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}function X(e,t=[]){return[e,t]}function Cn(e,t){let[n,r]=e;return[n,[...r,t]]}function wn(e,t){let n=e[1];for(let e of n){let n=e[0].type;if(t(e,n))return!0}return!1}function Tn(e,t){return wn(e,(e,n)=>t.includes(n))}function En(e){let n=i(t);return n.encodePolyfill?n.encodePolyfill(e):new TextEncoder().encode(e)}function Dn(e){let[t,n]=e,r=JSON.stringify(t);function i(e){typeof r==`string`?r=typeof e==`string`?r+e:[En(r),e]:r.push(typeof e==`string`?En(e):e)}for(let e of n){let[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),typeof n==`string`||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch{e=JSON.stringify(Y(n))}i(e)}}return typeof r==`string`?r:On(r)}function On(e){let t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t),r=0;for(let t of e)n.set(t,r),r+=t.length;return n}function kn(e){return[{type:`span`},e]}function An(e){let t=typeof e.data==`string`?En(e.data):e.data;return[{type:`attachment`,length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var jn={session:`session`,sessions:`session`,attachment:`attachment`,transaction:`transaction`,event:`error`,client_report:`internal`,user_report:`default`,profile:`profile`,profile_chunk:`profile`,replay_event:`replay`,replay_recording:`replay`,check_in:`monitor`,feedback:`feedback`,span:`span`,raw_security:`security`,log:`log_item`,metric:`metric`,trace_metric:`metric`};function Mn(e){return jn[e]}function Nn(e){if(!e?.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Pn(e,t,n,r){let i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:H(r)},...i&&{trace:i}}}function Fn(e,t){if(!t)return e;let n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function In(e,t,n,r){let i=Nn(n);return X({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:H(t)}},[`aggregates`in e?[{type:`sessions`},e]:[{type:`session`},e.toJSON()]])}function Ln(e,t,n,r){let i=Nn(n),a=e.type&&e.type!==`replay_event`?e.type:`event`;Fn(e,n?.sdk);let o=Pn(e,i,r,t);return delete e.sdkProcessingMetadata,X(o,[[{type:a},e]])}function Rn(e,t){function n(e){return!!e.trace_id&&!!e.public_key}let r=J(e[0]),i=t?.getDsn(),a=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!a&&i&&{dsn:H(i)}},{beforeSendSpan:s,ignoreSpans:c}=t?.getOptions()||{},l=c?.length?e.filter(e=>!sn(W(e),c)):e,u=e.length-l.length;u&&t?.recordDroppedEvent(`before_send`,`span`,u);let d=s?e=>{let t=W(e);return s(t)||(rn(),t)}:W,f=[];for(let e of l){let t=d(e);t&&f.push(kn(t))}return X(o,f)}function zn(t){if(!e)return;let{description:n=`< unknown name >`,op:r=`< unknown op >`,parent_span_id:i}=W(t),{spanId:a}=t.spanContext(),o=G(t),s=q(t),c=s===t,l=`[Tracing] Starting ${o?`sampled`:`unsampled`} ${c?`root `:``}span`,u=[`op: ${r}`,`name: ${n}`,`ID: ${a}`];if(i&&u.push(`parent ID: ${i}`),!c){let{op:e,description:t}=W(s);u.push(`root ID: ${s.spanContext().spanId}`),e&&u.push(`root op: ${e}`),t&&u.push(`root description: ${t}`)}h.log(`${l}
  ${u.join(`
  `)}`)}function Bn(t){if(!e)return;let{description:n=`< unknown name >`,op:r=`< unknown op >`}=W(t),{spanId:i}=t.spanContext(),a=`[Tracing] Finishing "${r}" ${q(t)===t?`root `:``}span "${n}" with ID ${i}`;h.log(a)}function Vn(e){if(!e||e.length===0)return;let t={};return e.forEach(e=>{let n=e.attributes||{},r=n[St],i=n[Ct];typeof r==`string`&&typeof i==`number`&&(t[e.name]={value:i,unit:r})}),t}var Hn=1e3,Un=class{constructor(e={}){this._traceId=e.traceId||j(),this._spanId=e.spanId||M(),this._startTime=e.startTimestamp||O(),this._links=e.links,this._attributes={},this.setAttributes({[B]:`manual`,[xt]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),`sampled`in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return t===void 0?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=U(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(z,`custom`),this}end(e){this._endTime||(this._endTime=U(e),Bn(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[xt],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:$t(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[B],profile_id:this._attributes[Tt],exclusive_time:this._attributes[Et],measurements:Vn(this._events),is_segment:this._isStandaloneSpan&&q(this)===this||void 0,segment_id:this._isStandaloneSpan?q(this).spanContext().spanId:void 0,links:Yt(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){e&&h.log(`[Tracing] Adding an event to span:`,t);let i=Wn(n)?n:r||O(),a=Wn(n)?{}:n||{},o={name:t,time:U(i),attributes:a};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=R();if(t&&t.emit(`spanEnd`,this),!(this._isStandaloneSpan||this===q(this)))return;if(this._isStandaloneSpan){this._sampled?qn(Rn([this],t)):(e&&h.log(`[Tracing] Discarding standalone span because its trace was not chosen to be sampled.`),t&&t.recordDroppedEvent(`sample_rate`,`span`));return}let n=this._convertSpanToTransaction();n&&(V(this).scope||I()).captureEvent(n)}_convertSpanToTransaction(){if(!Gn(W(this)))return;this._name||=(e&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),`<unlabeled transaction>`);let{scope:t,isolationScope:n}=V(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;let i=nn(this).filter(e=>e!==this&&!Kn(e)).map(e=>W(e)).filter(Gn),a=this._attributes[z];delete this._attributes[wt],i.forEach(e=>{delete e.data[wt]});let o={contexts:{trace:qt(this)},spans:i.length>Hn?i.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,Hn):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:`transaction`,sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:J(this)},request:r,...a&&{transaction_info:{source:a}}},s=Vn(this._events);return s&&Object.keys(s).length&&(e&&h.log(`[Measurements] Adding measurements to transaction event`,JSON.stringify(s,void 0,2)),o.measurements=s),o}};function Wn(e){return e&&typeof e==`number`||e instanceof Date||Array.isArray(e)}function Gn(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Kn(e){return e instanceof Un&&e.isStandaloneSpan()}function qn(e){let t=R();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent(`before_send`,`span`);return}t.sendEnvelope(e)}function Jn(t,n,r){if(!an(t))return[!1];let i,a;typeof t.tracesSampler==`function`?(a=t.tracesSampler({...n,inheritOrSampleWith:e=>typeof n.parentSampleRate==`number`?n.parentSampleRate:typeof n.parentSampled==`boolean`?Number(n.parentSampled):e}),i=!0):n.parentSampled===void 0?t.tracesSampleRate!==void 0&&(a=t.tracesSampleRate,i=!0):a=n.parentSampled;let o=Gt(a);if(o===void 0)return e&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),[!1];if(!o)return e&&h.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler==`function`?`tracesSampler returned 0 or false`:`a negative sampling decision was inherited or tracesSampleRate is set to 0`}`),[!1,o,i];let s=r<o;return s||e&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(a)})`),[s,o,i]}var Yn=`__SENTRY_SUPPRESS_TRACING__`;function Xn(e){let t=er();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=$n(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?t=>vt(e.scope,t):i===void 0?e=>e():e=>Zn(i,e))(()=>{let t=I(),a=rr(t,i);return e.onlyIfParent&&!a?new hn:Qn({parentSpan:a,spanArguments:n,forceTransaction:r,scope:t})})}function Zn(e,t){let n=er();return n.withActiveSpan?n.withActiveSpan(e,t):vt(n=>(st(n,e||void 0),t(n)))}function Qn({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!an()){let r=new hn;return(n||!e)&&fn(r,{sampled:`false`,sample_rate:`0`,transaction:t.name,...J(r)}),r}let i=L(),a;if(e&&!n)a=nr(e,r,t),tn(e,a);else if(e){let n=J(e),{traceId:i,spanId:o}=e.spanContext(),s=G(e);a=tr({traceId:i,parentSpanId:o,...t},r,s),fn(a,n)}else{let{traceId:e,dsc:n,parentSpanId:o,sampled:s}={...i.getPropagationContext(),...r.getPropagationContext()};a=tr({traceId:e,parentSpanId:o,...t},r,s),n&&fn(a,n)}return zn(a),jt(a,r,i),a}function $n(e){let t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let n={...t};return n.startTimestamp=U(e.startTime),delete n.startTime,n}return t}function er(){return F(r())}function tr(t,n,r){let i=R(),a=i?.getOptions()||{},{name:o=``}=t,s={spanAttributes:{...t.attributes},spanName:o,parentSampled:r};i?.emit(`beforeSampling`,s,{decision:!1});let c=s.parentSampled??r,l=s.spanAttributes,u=n.getPropagationContext(),[d,f,p]=n.getScopeData().sdkProcessingMetadata[Yn]?[!1]:Jn(a,{name:o,parentSampled:c,attributes:l,parentSampleRate:Gt(u.dsc?.sample_rate)},u.sampleRand),m=new Un({...t,attributes:{[z]:`custom`,[bt]:f!==void 0&&p?f:void 0,...l},sampled:d});return!d&&i&&(e&&h.log(`[Tracing] Discarding root span because its trace was not chosen to be sampled.`),i.recordDroppedEvent(`sample_rate`,`transaction`)),i&&i.emit(`spanStart`,m),m}function nr(e,t,n){let{spanId:r,traceId:i}=e.spanContext(),a=t.getScopeData().sdkProcessingMetadata[Yn]?!1:G(e),o=a?new Un({...n,parentSpanId:r,traceId:i,sampled:a}):new hn({traceId:i});tn(e,o);let s=R();return s&&(s.emit(`spanStart`,o),n.endTimestamp&&s.emit(`spanEnd`,o)),o}function rr(e,t){if(t)return t;if(t===null)return;let n=ct(e);if(!n)return;let r=R();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?q(n):n}var ir=0,ar=1,or=2;function sr(e){return new lr(t=>{t(e)})}function cr(e){return new lr((t,n)=>{n(e)})}var lr=class e{constructor(e){this._state=ir,this._handlers=[],this._runExecutor(e)}then(t,n){return new e((e,r)=>{this._handlers.push([!1,n=>{if(!t)e(n);else try{e(t(n))}catch(e){r(e)}},t=>{if(!n)r(t);else try{e(n(t))}catch(e){r(e)}}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(t){return new e((e,n)=>{let r,i;return this.then(e=>{i=!1,r=e,t&&t()},e=>{i=!0,r=e,t&&t()}).then(()=>{if(i){n(r);return}e(r)})})}_executeHandlers(){if(this._state===ir)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||=(this._state===ar&&e[1](this._value),this._state===or&&e[2](this._value),!0)})}_runExecutor(e){let t=(e,t)=>{if(this._state===ir){if(y(t)){t.then(n,r);return}this._state=e,this._value=t,this._executeHandlers()}},n=e=>{t(ar,e)},r=e=>{t(or,e)};try{e(n,r)}catch(e){r(e)}}};function ur(e,t,n,r=0){try{let i=dr(t,n,e,r);return y(i)?i:sr(i)}catch(e){return cr(e)}}function dr(t,n,r,i){let a=r[i];if(!t||!a)return t;let o=a({...t},n);return e&&o===null&&h.log(`Event processor "${a.id||`?`}" dropped event`),y(o)?o.then(e=>dr(e,n,r,i+1)):dr(o,n,r,i+1)}var Z,fr,pr,Q;function mr(e){let n=t._sentryDebugIds,r=t._debugIds;if(!n&&!r)return{};let i=n?Object.keys(n):[],a=r?Object.keys(r):[];if(Q&&i.length===fr&&a.length===pr)return Q;fr=i.length,pr=a.length,Q={},Z||={};let o=(t,n)=>{for(let r of t){let t=n[r],i=Z?.[r];if(i&&Q&&t)Q[i[0]]=t,Z&&(Z[r]=[i[0],t]);else if(t){let n=e(r);for(let e=n.length-1;e>=0;e--){let i=n[e]?.filename;if(i&&Q&&Z){Q[i]=t,Z[r]=[i,t];break}}}}};return n&&o(i,n),r&&o(a,r),Q}function hr(e,t){let{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:a}=t;vr(e,t),r&&xr(e,r),Sr(e,n),yr(e,i),br(e,a)}function gr(e,t){let{extra:n,tags:r,attributes:i,user:a,contexts:o,level:s,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:p,transactionName:m,span:ee}=t;$(e,`extra`,n),$(e,`tags`,r),$(e,`attributes`,i),$(e,`user`,a),$(e,`contexts`,o),e.sdkProcessingMetadata=A(e.sdkProcessingMetadata,c,2),s&&(e.level=s),m&&(e.transactionName=m),ee&&(e.span=ee),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...p}}function $(e,t,n){e[t]=A(e[t],n,1)}function _r(e,t){let n=_t().getScopeData();return e&&gr(n,e.getScopeData()),t&&gr(n,t.getScopeData()),n}function vr(e,t){let{extra:n,tags:r,user:i,contexts:a,level:o,transactionName:s}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(a).length&&(e.contexts={...a,...e.contexts}),o&&(e.level=o),s&&e.type!==`transaction`&&(e.transaction=s)}function yr(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function br(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function xr(e,t){e.contexts={trace:Jt(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:J(t),...e.sdkProcessingMetadata};let n=W(q(t)).description;n&&!e.transaction&&e.type===`transaction`&&(e.transaction=n)}function Sr(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function Cr(e,t,n,r,i,a){let{normalizeDepth:o=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||n.event_id||E(),timestamp:t.timestamp||D()},l=n.integrations||e.integrations.map(e=>e.name);wr(c,e),Dr(c,l),i&&i.emit(`applyFrameMetadata`,t),t.type===void 0&&Tr(c,e.stackParser);let u=kr(r,n.captureContext);n.mechanism&&Ze(c,n.mechanism);let d=i?i.getEventProcessors():[],f=_r(a,u),p=[...n.attachments||[],...f.attachments];return p.length&&(n.attachments=p),hr(c,f),ur([...d,...f.eventProcessors],c,n).then(e=>(e&&Er(e),typeof o==`number`&&o>0?Or(e,o,s):e))}function wr(e,t){let{environment:n,release:r,dist:i,maxValueLength:a}=t;e.environment=e.environment||n||`production`,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);let o=e.request;o?.url&&a&&(o.url=He(o.url,a)),a&&e.exception?.values?.forEach(e=>{e.value&&=He(e.value,a)})}function Tr(e,t){let n=mr(t);e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=n[e.filename])})})}function Er(e){let t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:`sourcemap`,code_file:e,debug_id:t})})}function Dr(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Or(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:Y(e.data,t,n)}}))},...e.user&&{user:Y(e.user,t,n)},...e.contexts&&{contexts:Y(e.contexts,t,n)},...e.extra&&{extra:Y(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Y(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:Y(e.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Y(e.contexts.flags,3,n)),r}function kr(e,t){if(!t)return e;let n=e?e.clone():new N;return n.update(t),n}function Ar(e){if(e)return jr(e)||Nr(e)?{captureContext:e}:e}function jr(e){return e instanceof N||typeof e==`function`}var Mr=[`user`,`level`,`extra`,`contexts`,`tags`,`fingerprint`,`propagationContext`];function Nr(e){return Object.keys(e).some(e=>Mr.includes(e))}function Pr(e,t){return I().captureException(e,Ar(t))}function Fr(e,t){let n=typeof t==`string`?t:void 0,r=typeof t==`string`?void 0:{captureContext:t};return I().captureMessage(e,n,r)}function Ir(e,t){return I().captureEvent(e,t)}function Lr(e,t){L().setContext(e,t)}function Rr(){return L().lastEventId()}function zr(e){let n=L(),r=I(),{userAgent:i}=t.navigator||{},a=rt({user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),o=n.getSession();return o?.status===`ok`&&k(o,{status:`exited`}),Br(),n.setSession(a),a}function Br(){let e=L(),t=I().getSession()||e.getSession();t&&it(t),Vr(),e.setSession()}function Vr(){let e=L(),t=R(),n=e.getSession();n&&t&&t.captureSession(n)}function Hr(e=!1){if(e){Br();return}Vr()}export{x as $,H as A,t as At,A as B,mn as C,ce as Ct,rn as D,c as Dt,sn as E,h as Et,R as F,Xe as G,D as H,I,E as J,Qe as K,L,Et as M,Tt as N,W as O,a as Ot,B as P,w as Q,yt as R,gn as S,de as St,cn as T,l as Tt,O as U,k as V,Ze as W,We as X,Ue as Y,Ve as Z,X as _,v as _t,Rr as a,Me as at,wn as b,se as bt,Cr as c,ve as ct,Xn as d,Se as dt,Be as et,Zn as f,b as ft,An as g,De as gt,Cn as h,be as ht,Hr as i,Ne as it,Wt as j,e as jt,Gt as k,n as kt,cr as l,he as lt,In as m,xe as mt,Pr as n,Ie as nt,Lr as o,Ae as ot,Ln as p,ye as pt,Ye as q,Fr as r,Fe as rt,zr as s,_e as st,Ir as t,Pe as tt,sr as u,ge as ut,Tn as v,y as vt,un as w,o as wt,Dn as x,fe as xt,Mn as y,ie as yt,vt as z};